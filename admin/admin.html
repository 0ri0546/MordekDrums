<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <title>Admin JSON</title>
  <style>
    textarea {
      width: 100%;
      height: 400px;
      font-family: monospace;
    }

    select,
    button {
      margin: 10px 0;
    }
  </style>
  <link rel="stylesheet" href="/styles/admin.css">
</head>

<body>
  <h1>Ã‰diter le site !</h1>
  <h2>Images disponibles</h2>
  <button id="refresh-images" style="margin: 10px; padding: 5px 10px; font-size: 14px;">
    ðŸ”„ RafraÃ®chir les images
  </button>
  <div id="image-gallery"
  style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px;"></div>
  
  <h2>Uploader une image</h2>
  <form action="/upload-image" method="POST" enctype="multipart/form-data">
    <input type="file" name="image" accept="image/*" required />
    <button type="submit">Uploader</button>
  </form>
  <select id="section-select">
    <option value="accueil">Accueil</option>
    <option value="actus">Actus</option>
    <option value="esport">Esport</option>
  </select>
  <button onclick="loadJson()">Charger</button>
  <form onsubmit="saveJson(event)">
    <textarea id="json-editor"></textarea>
    <button type="submit">Enregistrer</button>
  </form>

  <h2>Exemple JSON (copier-coller si besoin)</h2>
  <select id="example-section-select">
    <option value="accueil">Accueil</option>
    <option value="actus">Actus</option>
    <option value="esport">Esport</option>
  </select>
  <pre id="json-example" class="json-example"
    style="width:100%; height: 800px; overflow: auto; background:#f0f0f0; padding:10px; font-family: monospace;"></pre>

  <div id="status"></div>
  <button onclick="window.location.href='/logout'">DÃ©connexion</button>
  <script src="admin.js"></script>

</body>

</html>